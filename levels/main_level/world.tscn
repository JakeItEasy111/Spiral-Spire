[gd_scene load_steps=14 format=3 uid="uid://bqsxtwiigm17h"]

[ext_resource type="Script" path="res://levels/main_level/world.gd" id="1_ox0py"]
[ext_resource type="PackedScene" uid="uid://ql0l8j2ni6xb" path="res://objects/torch/torch.tscn" id="5_2lj5i"]
[ext_resource type="PackedScene" uid="uid://bpm05pdgfeeja" path="res://entity/player/player.tscn" id="5_a0c0x"]
[ext_resource type="PackedScene" uid="uid://b8p77rewu34ul" path="res://levels/dungeons/devroom.tscn" id="6_jlux8"]
[ext_resource type="Texture2D" uid="uid://bxbgr3mp2o2mn" path="res://assets/sprites/home depo.jpg" id="6_pp7g2"]
[ext_resource type="PackedScene" uid="uid://88jssic5a3c2" path="res://entity/enemy/wicker/wicker_enemy.tscn" id="7_4rrae"]
[ext_resource type="PackedScene" uid="uid://b8kxtpqpyap6m" path="res://objects/door/door.tscn" id="7_64wem"]
[ext_resource type="FontFile" uid="uid://0mhojjt0rey0" path="res://assets/fonts/alagard/alagard.ttf" id="8_frgwi"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_gp45i"]
sky_top_color = Color(0.384314, 0.454902, 0.54902, 1)
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_c4dh2"]
sky_material = SubResource("ProceduralSkyMaterial_gp45i")

[sub_resource type="Environment" id="Environment_7m8yv"]
background_mode = 2
sky = SubResource("Sky_c4dh2")
tonemap_mode = 2
ssil_enabled = true
glow_enabled = true
fog_light_color = Color(0, 0, 0, 1)
fog_light_energy = 4.0
volumetric_fog_enabled = true
volumetric_fog_density = 0.3
volumetric_fog_albedo = Color(0.101961, 0.101961, 0.101961, 1)
volumetric_fog_ambient_inject = 0.65

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2fghu"]
albedo_texture = ExtResource("6_pp7g2")
grow_amount = 2.35
proximity_fade_distance = 0.5

[sub_resource type="QuadMesh" id="QuadMesh_bv6lr"]
material = SubResource("StandardMaterial3D_2fghu")
size = Vector2(3, 4)
orientation = 0

[node name="World" type="Node3D"]
script = ExtResource("1_ox0py")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_7m8yv")

[node name="Player" parent="." instance=ExtResource("5_a0c0x")]

[node name="devroom" parent="." instance=ExtResource("6_jlux8")]

[node name="WickerEnemy" parent="." instance=ExtResource("7_4rrae")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.8, -0.1, 7.3)
SPEED = 2.0

[node name="torch" parent="." instance=ExtResource("5_2lj5i")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 1.1, -1.3)

[node name="WickerEnemy2" parent="." instance=ExtResource("7_4rrae")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.7, 0, 11)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 2.1, -14)
mesh = SubResource("QuadMesh_bv6lr")

[node name="door" parent="." instance=ExtResource("7_64wem")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 12, 0, -3)

[node name="UI" type="Control" parent="."]
z_as_relative = false
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="ColorRect" type="ColorRect" parent="UI"]
visible = false
top_level = true
layout_mode = 0
offset_right = 1920.0
offset_bottom = 1080.0
color = Color(0.67451, 0.0392157, 0, 1)

[node name="Health" type="RichTextLabel" parent="UI"]
z_index = 100
layout_mode = 0
offset_left = 77.0
offset_top = 910.0
offset_right = 427.0
offset_bottom = 1054.0
theme_override_fonts/normal_font = ExtResource("8_frgwi")
theme_override_font_sizes/normal_font_size = 100
bbcode_enabled = true
fit_content = true
scroll_active = false

[connection signal="hp_change" from="Player" to="." method="_on_player_hp_change"]
[connection signal="player_hit" from="Player" to="." method="_on_player_player_hit"]
